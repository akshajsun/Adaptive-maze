# Adaptive Maze Game

This is a visually immersive top-down 2D adaptive maze game in JavaScript with HTML5 Canvas rendering. The maze layouts are procedurally generated by a reinforcement learning agent that dynamically adjusts maze difficulty based on the player's skill level.

## How to Run

1.  Clone or download the project files.
2.  Open the `index.html` file in a modern web browser.

## Game Mechanics

*   **Objective:** Navigate the player (a golden circle) from the starting point (top-left) to the exit (a red square at the bottom-right).
*   **Controls:** Use the arrow keys or WASD keys to move the player.
*   **Adaptive Difficulty:** The game's difficulty (maze size) will change based on your performance. If you complete a maze quickly, the next one will be larger and more complex. If you take too long, the next maze will be smaller and easier.

## Reinforcement Learning (RL) and Adaptive Difficulty

The game uses a Q-learning algorithm to implement adaptive difficulty.

*   **State:** The current difficulty level (0 for easy, 1 for medium, 2 for hard).
*   **Actions:** The RL agent can choose to decrease the difficulty (-1), keep it the same (0), or increase it (+1).
*   **Reward:** The reward is calculated based on how close the player's completion time is to a target time (currently 30 seconds). A completion time close to the target yields a higher reward.
*   **Q-learning:** The agent maintains a Q-table of state-action values. After each level, the Q-value for the chosen action is updated based on the reward received. The agent uses an epsilon-greedy policy to balance exploration (choosing a random action) and exploitation (choosing the best-known action).

## Animation System

The game features several animations to enhance the visual experience:

*   **Maze Generation:** The maze is generated in real-time using a recursive backtracking algorithm, with each step of the generation process animated.
*   **Player Movement:** The player's movement is smoothed using linear interpolation (lerp), creating a fluid motion.
*   **Player Trail:** The player leaves a glowing trail that fades out over time.
*   **Win Animation:** Upon reaching the exit, a burst of particles is emitted from the player.
*   **Difficulty Transitions:** When the difficulty changes, an animated "Difficulty Up" or "Difficulty Down" message is displayed.

## Code Structure

The code is organized into several JavaScript files in the `js/` directory:

*   `main.js`: The main entry point of the game, containing the game loop.
*   `game.js`: The core `Game` class that manages the game state, player, maze, and UI.
*   `maze.js`: The `Maze` class, responsible for generating and drawing the maze.
*   `player.js`: The `Player` class, which handles player movement, collision, and drawing. It also includes the AI logic for the demo mode.
*   `rl.js`: The `RLAgent` class, which implements the Q-learning algorithm for adaptive difficulty.
*   `ui.js`: The `UI` class, responsible for drawing the main menu, HUD, and other UI elements.
*   `particles.js`: The `Particle` and `ParticleSystem` classes for creating particle effects.
*   `config.js`: A configuration file containing various game parameters.
